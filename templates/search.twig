<div class="table-container">
    <table
        class="table table-striped table-bordered table-hover"
        data-toggle="table"
        data-height="460"
        data-click-to-select="true"
        data-virtual-scroll="true"
        data-pagination="true"
        show-extended-pagination="true"
        data-search="true"
        data-show-search-button="true"
        data-sortable="true"
        data-show-export="true"
        data-buttons="buttons"
        >
        <thead class="table-light">
            <tr>
                <th data-field="state" data-checkbox="true"></th>
                {% for field in fields %}
                    <th data-sortable="true">{{ field['name'] }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for value in values %}
            <tr>
                <td></td>
                {% for col in fields|keys %}
                <td>{{ value[col + 1] | raw }}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<script>
function buttons () {
    return {
        btnMassiveAction: {
            text: 'Massive action',
            icon: 'fa-edit',
            event: function () {
                console.log(JSON.stringify(this.getSelections()));
            },
            attributes: {
                title: {{'Apply massive action'|trans|json_encode|raw}},
            },
        },
        btnAsMap: {
            text: 'Show as map',
            icon: 'fa-globe-europe',
            event: function () {
                console.log(JSON.stringify(this.getSelections()));
            },
            attributes: {
                title: {{'Show list as map'|trans|json_encode|raw}},
            },
        },
        btnshowTrash: {
            text: 'Show trash',
            icon: 'fa-trash-alt',
            event: function () {
                console.log(JSON.stringify(this.getSelections()));
            },
            attributes: {
                title: {{'Show trash content'|trans|json_encode|raw}},
            }
        },
        btnEditColumns: {
            text: 'Edit columns',
            icon: 'fa-wrench',
            event: function () {
                console.log(JSON.stringify(this.getSelections()));
            },
            attributes: {
                title: {{'Edit columns position and content'|trans|json_encode|raw}},
            }
        },
    }
}
</script>
<script src="https://unpkg.com/tableexport.jquery.plugin/tableExport.min.js"></script>